(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/comdisk/comdisk"],{6559:function(t,n,e){"use strict";(function(t){e("4fad"),e("921b");i(e("66fd"));var n=i(e("f239"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},"673a":function(t,n,e){"use strict";var i=e("b9e1"),o=e.n(i);o.a},"795d":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return o})},af2c:function(t,n,e){"use strict";e.r(n);var i=e("c76b"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,function(){return i[t]})}(a);n["default"]=o.a},b9e1:function(t,n,e){},c76b:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;c(e("bd16")),c(e("90d0")),c(e("8c5a"));var i=c(e("9e11")),o=c(e("1399")),a=e("2f62"),u=c(e("814b"));function c(t){return t&&t.__esModule?t:{default:t}}function s(t,n){return d(t)||r(t,n)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(t,n){var e=[],i=!0,o=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)if(e.push(u.value),n&&e.length===n)break}catch(s){o=!0,a=s}finally{try{i||null==c["return"]||c["return"]()}finally{if(o)throw a}}return e}function d(t){if(Array.isArray(t))return t}var p=function(){return Promise.all([e.e("common/vendor"),e.e("components/l-file/l-file")]).then(e.bind(null,"51e5"))},f=function(){return e.e("components/uni-ui/uni-popup/uni-popup").then(e.bind(null,"b037"))},h=function(){return e.e("components/uni-ui/uni-collapse/uni-collapse").then(e.bind(null,"bb76"))},m=function(){return e.e("components/uni-ui/uni-notice-bar/uni-notice-bar").then(e.bind(null,"ccc6"))},v=function(){return e.e("components/uni-ui/uni-collapse-item/uni-collapse-item").then(e.bind(null,"41ab"))},b=function(){return e.e("components/uni-ui/uni-list/uni-list").then(e.bind(null,"6d22"))},g=function(){return e.e("components/uni-ui/uni-list-item/uni-list-item").then(e.bind(null,"1967"))},y=function(){return e.e("components/uni-ui/uni-swipe-action/uni-swipe-action").then(e.bind(null,"39c8"))},k=function(){return Promise.all([e.e("common/vendor"),e.e("components/uni-ui/uni-swipe-action-item/uni-swipe-action-item")]).then(e.bind(null,"3798"))},I=function(){return e.e("components/musiclogin").then(e.bind(null,"66fb"))},L={components:{uniPopup:f,uniCollapse:h,uniCollapseItem:v,uniNoticeBar:m,uniList:b,uniListItem:g,uniSwipeAction:y,uniSwipeActionItem:k,musiclogin:I,lFile:p},data:function(){return{options:[{text:"复制",style:{backgroundColor:"green"}}],drawer:!1,token:"",account:"",checkitem:null,type:null,BackgroundImage:o.default,backButtonPress:0,uploadStatus:!0,filedata:{music:[],video:[],photo:[],doc:[],role:""}}},onNavigationBarButtonTap:function(t){0==t.index&&(this.uploadStatus?(this.uploadStatus=!1,this.$refs.lFile.upload({currentWebview:this.$mp.page.$getAppWebview(),url:u.default.upLoad,name:"file",formData:{token:this.token}})):plus.nativeUI.toast("有正在进行的任务"))},computed:(0,a.mapState)(["forcedLogin","hasLogin","userName"]),onLoad:function(t){var n=getApp();this.account=n.globalData.account,this.token=n.globalData.token},onUnload:function(){},methods:{upSuccess:function(t){this.uploadStatus=!0},Option:function(t,n){this.checkitem=t,"删除"==n.content.text?this.type="delete":"移动"==n.content.text?this.type="move":"复制"==n.content.text&&(this.type="copy"),this.$refs.popuptip.open()},Opreation:function(t){"sure"==t&&("delete"==this.type?this.deleteIt(this.checkitem):"move"==this.type?this.moveIt(this.checkitem):"copy"==this.type&&this.copyIt(this.checkitem)),this.$refs.popuptip.close()},JumptoChat:function(){t.navigateTo({url:"../chat/HM-chat",animationType:"fade-in",animationDuration:200})},playIt:function(n,e){"music"==e&&t.navigateTo({url:"../info/index?item="+n+"&type=pubdoc",animationType:"fade-in",animationDuration:200})},deleteIt:function(n){var e=this,o={token:this.token,filename:n};t.showLoading({mask:!0,title:"删除中..."}),i.default.adminDelet(o).then(function(n){t.hideLoading();var i=s(n,2),o=(i[0],i[1]),a=o.data.data;"error"==o.data.type?plus.nativeUI.toast(a):"success"==o.data.type&&(plus.nativeUI.toast("文件删除成功"),e.getList())}).catch(function(n){plus.nativeUI.toast("服务器异常"),t.hideLoading()})},copyIt:function(n){var e=this,o={token:this.token,filename:n,type:"toprv"};t.showLoading({mask:!0,title:"复制中..."}),i.default.copyFile(o).then(function(n){t.hideLoading();var i=s(n,2),o=(i[0],i[1]),a=o.data.data;"error"==o.data.type?plus.nativeUI.toast(a):"success"==o.data.type&&(plus.nativeUI.toast(a),e.getList())}).catch(function(n){t.hideLoading(),plus.nativeUI.toast("服务器异常")})},getList:function(){var n=this,e={token:this.token};t.showLoading({mask:!0,title:"加载中..."}),t.request({url:u.default.getComDisk,method:"POST",data:e,header:u.default.header,success:function(e){"error"==e.data.type?plus.nativeUI.toast(e.data.data):(n.filedata=e.data.data,n.filedata.role=e.data.role,n.$store.commit("FileVal",n.filedata),"admin"==n.filedata.role&&n.options.push({text:"删除",style:{backgroundColor:"red"}})),t.hideLoading()},fail:function(n){"request:fail abort"==n.errMsg&&plus.nativeUI.toast("服务器连接出错"),t.hideLoading()}})}},onShow:function(){this.getList()}};n.default=L}).call(this,e("6e42")["default"])},f239:function(t,n,e){"use strict";e.r(n);var i=e("795d"),o=e("af2c");for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);e("673a");var u=e("2877"),c=Object(u["a"])(o["default"],i["a"],i["b"],!1,null,"2d09156d",null);n["default"]=c.exports}},[["6559","common/runtime","common/vendor"]]]);